/**
 * Theme Name:  WSU Spine - CAHNRS
 * Theme URI:   http://cahnrs.wsu.edu/communications/
 * Author:      CAHNRS Communications, Danial Bleile, Phil Cable
 * Author URI:  http://cahnrs.wsu.edu/communications/
 * Description: 
 * Version:     0.1
 * License:     Copyright Washington State University
 * License      URI: http://copyright.wsu.edu
 * Template:    WSUWP-spine-parent-theme
 */

/**
 * CAHNRS Global Navigation (for smaller screens)
 * ----------------------------------------------------------------------------
 */
#cahnrs-spine-mobile {
	display: none;
}
#spine #cahnrs-spine-mobile {
	margin: 1em 0 0 0;
	padding: 0 1.75em;
}
#spine #cahnrs-spine-mobile ul li {
	border-color: #e4e6e7;
}
#cahnrs-spine-mobile ul li a {
	font-weight: bold;
}
#spine nav#cahnrs-spine-mobile li.parent:not(.active) > a::after {
	content: "▶";
	font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
	top: 0.4em;
}
#spine nav#cahnrs-spine-mobile li.parent.opened:not(.active) > a::after {
	content: "◀";
	font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
	top: 0.4em;
}
#spine nav#cahnrs-spine-mobile li.parent.opened > a {
	padding-bottom: 6px; 
}
#spine:not(.unshelved) #cahnrs-spine-mobile ul li ul {
	display: none;
}
#cahnrs-spine-mobile ul li ul {
	background: rgba( 94, 106, 113, 0.90 );
	display: none;
	left: 100%;
	left: calc( 100% + 1.75em );
	position: absolute;
	top: 0;
	width: 100%;
}
#cahnrs-spine-mobile ul li.opened ul { 
	display: block;
}
#cahnrs-spine-mobile ul li ul a {
	color: #fff;
}

/**
 * Spine Featured Links Overrides
 * ----------------------------------------------------------------------------
 */
#spine .spine-offsitenav a {
	background-color: #5e6a71;
	color: #fff;
	padding: 6px;
	text-align: justify;
}
#spine .spine-offsitenav a:hover {
	background-color: #981e32;
	color: #fff;
}

/**
 * Content Stuff
 * ----------------------------------------------------------------------------
 */
h1, h2, h3, h4, h5 {
	padding-bottom: 0.5em;
}
/* Not sure about this one - PC */
.item-inner-wrapper > h1,
.item-inner-wrapper > h2,
.item-inner-wrapper > h3,
.item-inner-wrapper > h4,
.item-inner-wrapper > h5 {
	padding-top: 0;
}
main {
	position: relative;
}

/* Non page builder content
main > section > div > article {
	margin: 0 1em 2em 2em;
} */
.primary-article,
main > article { 
	margin: 0 2em 0 2em;
}

/* Break long titles/URLs (http://css-tricks.com/snippets/css/prevent-long-urls-from-breaking-out-of-container/) */
/* While we certainly need some exclusivity here, this could possibly be too much */
.primary-article h1,
.primary-article h2,
.primary-article h3,
.primary-article h4,
.primary-article a,
main > article h1,
main > article h2,
main > article h3,
main > article h4,
main > article a {
	-ms-word-break: break-all;
	word-break: break-all; /* Be VERY careful with this, breaks normal words wh_erever */
	word-break: break-word; /* Non standard for webkit */
	-webkit-hyphens: auto;
	-moz-hyphens:    auto;
	hyphens:         auto;
}

.article-header h1 {
	padding-bottom: 0.2em;
}
.pagebuilder-item {
	background: rgba( 255, 255, 255, 0.9 );
	padding: 1em 2em;
}

article.dynamic-iframe-page.inactive {
	display: none;
}

/* Page Splitter */
.cahnrs-page-splitter {
	position: relative;
	text-align: center;
	margin: 2em;
}
.cahnrs-page-splitter hr {
	background-color: #fff;
	position: absolute;
	width: 100%;
	top: 50%;
	margin: 0;
}
.cahnrs-page-splitter div {
	display: inline-block;
	padding: 6px 15px;
	background: #fff;
	position: relative;
	font-size: 0.8em;
	border-radius: 2px;
}

/* Images/Figures and Captions */
img.aligncenter {
	display: block;
}
.aligncenter {
	margin: 0 auto;
}
figcaption {
	font-size: 0.85em;
	max-width: 100%;
	text-align: center;
}
.size-lt-large .alignleft { /* Parent theme override */
	clear: none;
	float: left;
	margin: 0 1em 1em 0;
}
.size-lt-large .alignright { /* Parent theme override */
	clear: none;
	float: right;
	margin: 0 0 1em 1em;
}

/* Paging navigation */
.cahnrs-paging {
	clear: both;
	margin: 2em 0 1em 0;
}
.cahnrs-paging .wrapper {
	background: rgba( 255, 255, 255, 0.9 );
	border-radius: 1px;
	margin: 0 1em 0 2em;
	padding: 0.5em 0;
}
.cahnrs-paging .previous {
	display: inline-block;
	width: 30%;
}
.cahnrs-paging .pagination {
	display: inline-block;
	text-align: center;
	width: 40%;
}
.cahnrs-paging .next {
	display: inline-block;
	text-align: right;
	width: 30%;
}
.cahnrs-paging .previous a {
	display: block;
	padding-left: 2em;
}
.cahnrs-paging .next a {
	display: block;
	padding-right: 2em;
}


/**
 * Dynamic Page Load
 * ----------------------------------------------------------------------------
 */
 
body.slide-frame #cahnrs-global-header  {
	visibility: hidden;
}
 
.cahnrs-page-slide {
	display: none;
	position: relative;
}
.cahnrs-page-slide.currentslide {
	display: block;
	position: relative;
	z-index: 100;
}
.cahnrs-page-slide.nextslide {
	display: block;
	position: absolute;
	width: 100%;
	top: 0;
	left: 9999px;
}
body.cahnrs-pageslider main {
	display: none;
}
body.cahnrs-pageslider #jacket {
	/*height: 123px;*/
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}
body.cahnrs-pageslider #spine {
	left: -9999px;
}

body.cahnrs-pageslider #spine-navigation {
	visibility: hidden;
}

html {
	height: 100.25%;
}

body.cahnrs-pageslider {
	width: 100%;
	height: 100%;
	border: 0;
	position: absolute;
	top: 0;
	left: 0;
	overflow: hidden;
}
body.cahnrs-pageslider #cahnrs-global-header {
	position: relative;
	z-index: 160;
}

.cahnrs-pageframe {
	width: 100%;
	height: 100%;
	border: 0;
	position: absolute;
	top: 0;
	left: 0;
	overflow: hidden;
	display: none;
	/*background-image: url(http://stage.wpdev.cahnrs.wsu.edu/wp-content/uploads/2014/07/flower.jpg);*/
	background-attachment: fixed;
	background-size: cover;
	z-index: 150;
}
.cahnrs-pageframe.selected {
	display: block;
}

.cahnrs-pageframe.next-slide {
	display: block;
}

/*.cahnrs-postload-loader {
	font-size: 1.3em;
	color: #fff;
	font-weight: bold;
	margin-left: 2em;*/
	/*visibility: hidden;*/
	/*display: none;
	height: 100px;
	line-height: 75px;
}*/
/*.cahnrs-postload-loader.active {
	display: block;
}*/
/*.cahnrs-dynamic-window {
	display: none;
	position: relative;
}
.cahnrs-dynamic-window.active {
	display: block;
}
.cahnrs-page-next-slide-state {
	position: absolute;
	display: block;
	width: 100%;
	top: 0;
	z-index: 300;
}
#cahnrs-dynamic-page-load .cahrns-dynamic-page-load-wrapper.inactive {
	display: none;
}*/

/**
 * Print Preview
 * ----------------------------------------------------------------------------
 */
html.print {
	background: none;
}
html.print .layout-builder-wrap {
	margin: 0;
}
html.print #cahnrs-global-header .header-group {
	height: auto;
}
html.print #cahnrs-global-header sub span {
	color: #5e6a71;
	line-height: normal;
}
html.print #cahnrs-global-nav {
	display: none;
}
html.print .article-title {
	color: #5e6a71;
}

/**
 * Media Queries
 * ----------------------------------------------------------------------------
 */

/* Probably need to add :not(.vellum)... PC */
@media screen and (min-width: 791px) and (max-width: 989px) {

	#binder.fluid #spine header {
		background: none;
	}

}

/* Medium and Desktop - Small */
@media only screen and (min-width: 694px) and (max-width: 791px) {

	/* Need to figure out how to not do this for the IOS fix MQ
	.fluid #wsu-signature {
		background-image: url(marks/wsu-cahnrs-signature-horizontal.svg)
	}*/
	#binder.fixed #spine header {
		background: none;
	}

	.primary-article,
	main > article { 
		margin: 2em;
	}

	/* CAHNR Global Navigation (for smaller screens) */
	#cahnrs-spine-mobile {
		display: block;
	}
	#spine .spine-sitenav:not(.homeless) > ul > li:first-child {
		display: none;
	}
	#spine .spine-sitenav {
		margin-top: 0;
	}

}

/* Small (max 693)  */
@media only screen and (max-width: 693px) {

	.fluid #wsu-signature {
		background-image: url(marks/wsu-cahnrs-signature-horizontal.svg)
	}

	.primary-article,
	main > article { 
		margin: 2em 0;
	}
	.article-header {
		padding-left: 1em;
	}
	.pagebuilder-item {
		background: #fff;
	}
	
	/* Images/Figures and Captions (slightly overqualified in order to override previous rules and parent theme) */
	.size-lt-large .alignleft,
	.size-lt-large .alignright,
	.size-lt-large .aligncenter {
		clear: both;
		float: none;
		margin: 1em 0 1em 0;
		width: 100%;
	}
	figure img {
		width: 100%;
	}

	/* CAHNR Global Navigation (for smaller screens) */
	#cahnrs-spine-mobile {
		display: block;
	}
	#spine .spine-sitenav:not(.homeless) > ul > li:first-child {
		display: none;
	}
	#spine .spine-sitenav {
		margin-top: 0;
	}

}

/* IOS fix for unshelved spine */
@media only screen and (max-device-width: 480px) and (orientation: portrait), only screen and (max-device-width: 480px) and (orientation: landscape), only screen and (device-width: 768px) and (device-height: 1024px) and (orientation: portrait), only screen and (device-width: 768px) and (device-height: 1024px) and (orientation: landscape) {

	#spine nav#cahnrs-spine-mobile li.parent:not(.active) > a::after,
	#spine nav#cahnrs-spine-mobile li.parent.opened:not(.active) > a::after {
		top: 0.5em;
	}
	#spine:not(.unshelved) #cahnrs-spine-mobile ul li.opened ul { 
		display: block;
	}

}

/* CAHNRS Global Navigation (for smaller screens) */
@media only screen and (max-width: 540px) {
	
	#cahnrs-spine-mobile ul li ul {
		left: auto;
		position: fixed;
		right: 0;
		top: auto;
		width: 242px;
		z-index: 1;
	}
	
}