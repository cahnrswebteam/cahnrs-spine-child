/**
 * Theme Name:  WSU Spine - CAHNRS
 * Theme URI:   http://cahnrs.wsu.edu/communications/
 * Author:      CAHNRS Communications, Danial Bleile, Phil Cable
 * Author URI:  http://cahnrs.wsu.edu/communications/
 * Description: 
 * Version:     0.8
 * License:     Copyright Washington State University
 * License      URI: http://copyright.wsu.edu
 * Template:    WSUWP-spine-parent-theme
 */

/**
 * CAHNRS Global Navigation (for smaller screens)
 * ----------------------------------------------------------------------------
 */
#cahnrs-spine-mobile {
	display: none;
}
#spine #cahnrs-spine-mobile {
	margin: 1em 0 0 0;
	padding: 0 1.75em;
}
#spine #cahnrs-spine-mobile ul li {
	border-color: #e4e6e7;
}
#spine #cahnrs-spine-mobile ul li.overview {
	display: none;
}
#cahnrs-spine-mobile ul li a {
	font-weight: bold;
}
#spine #cahnrs-spine-mobile ul li.selected a {
	color: #981e32;
}
#spine nav#cahnrs-spine-mobile li.parent:not(.active) > a::after {
	content: "▶";
	font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
	top: 0.4em;
}
#spine nav#cahnrs-spine-mobile li.parent.opened:not(.active) > a::after {
	content: "◀";
	font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
	top: 0.4em;
}
#spine nav#cahnrs-spine-mobile li.parent.opened > a {
	padding-bottom: 6px; 
}
#spine:not(.unshelved) #cahnrs-spine-mobile ul li ul {
	display: none;
}
#cahnrs-spine-mobile ul li ul {
	background: rgba( 94, 106, 113, 0.98 );
	display: none;
	left: 100%;
	left: calc( 100% + 1.75em );
	position: absolute;
	top: 0;
	width: 100%;
}
#cahnrs-spine-mobile ul li.opened ul { 
	display: block;
}
#cahnrs-spine-mobile ul li ul a {
	color: #fff;
}

/**
 * Spine Featured Links Overrides
 * ----------------------------------------------------------------------------
 */
#spine .spine-offsitenav a {
	background-color: #5e6a71;
	color: #fff;
	padding: 6px;
}
#spine .spine-offsitenav a:hover {
	background-color: #981e32;
	color: #fff;
}

/**
 * Content Stuff
 * ----------------------------------------------------------------------------
 */
h1 { font-size: 2.4em; text-shadow: 1px 1px 5px rgba(92, 92, 92, 1); }
h2 { font-size: 1.6em; }
h3 { font-size: 1.4em; }
h4 { font-size: 1.2em; }
h5 { font-size: 1em; }

h1, h2, h3, h4, h5 {
	margin-bottom: 0;
	padding-bottom: 0.5em;
}
/* Not sure about this one - PC */
.item-inner-wrapper > h1,
.item-inner-wrapper > h2,
.item-inner-wrapper > h3,
.item-inner-wrapper > h4,
.item-inner-wrapper > h5 {
	padding-top: 0;
}
main {
	position: relative;
}

/* Non page builder content
main > section > div > article {
	margin: 0 1em 2em 2em;
} */
.primary-article,
main > article { 
	margin: 0 2em 0 2em;
	padding-bottom: 1em;
}

/* Archive styling */
main > section > header {
	padding-left: 2em;
}
.archive article,
.blog article{
	background: rgba( 255, 255, 255, 0.9 );
	margin: 0 2em 1em 2em;
	padding: 1em 2em;
}
.archive article .pagebuilder-item,
.blog article .pagebuilder-item {
	background: none;
	padding: 0;
}
.archive article:after,
.blog article:after {
	content: "";
	display: table;
	clear: both;
}
.archive .column.two .pagebuilder-item {
	margin-right: 2em;
}

/* Break long titles/URLs (http://css-tricks.com/snippets/css/prevent-long-urls-from-breaking-out-of-container/) */
.primary-article h1,
.primary-article h2,
.primary-article h3,
.primary-article h4,
.primary-article a,
main > article h1,
main > article h2,
main > article h3,
main > article h4,
main > article a {
	word-wrap: break-word;
	/* -ms-word-break: break-all;*/
	/* word-break: break-all;*/
	/*word-break: break-word;*/
	/*-webkit-hyphens: auto;
	-moz-hyphens:    auto;
	hyphens:         auto;*/
}

.article-header h1,
.archive-header h1 {
	padding-bottom: 0.2em;
}
.pagebuilder-item {
	background: rgba( 255, 255, 255, 0.9 );
	padding: 1.5em 2em 1em;
}
.pagebuilder-item.tertiary-nav .pagebuilder-item {
	background: none !important;
	padding: 1em 2em;
}
.pagebuilder-item h1 {
	text-shadow: none;
}

article.dynamic-iframe-page.inactive {
	display: none;
}

/* Page Splitter */
.cahnrs-page-splitter {
	position: relative;
	display: none;
}
.cahnrs-page-break hr {
	background-color: #fff;
	position: absolute;
	top: 48%;
	left: 0;
	width: 100%;
	margin: 0;
}

.cahnrs-page-break {
	height: 30px;
	margin: 0 2em 2em;
	position: relative;
	text-align: right;
}
.cahnrs-page-break a {
	height: 30px;
	width: 30px;
	background-color: #fff;
	background-image: url(images/top-arrow-red.png);
	border-radius: 2px;
	display: inline-block;
	margin-right: 112px;
	position: relative;
	background-position: center center;
}

/* Images/Figures and Captions */
img.aligncenter {
	display: block;
}
.aligncenter {
	margin: 0 auto;
}
figcaption {
	font-size: 0.85em;
	max-width: 100%;
	text-align: center;
}
.size-lt-large .alignleft { /* Parent theme override */
	clear: none;
	float: left;
	margin: 0 1em 1em 0;
}
.size-lt-large .alignright { /* Parent theme override */
	clear: none;
	float: right;
	margin: 0 0 1em 1em;
}

/* Paging navigation */
.cahnrs-paging {
	clear: both;
	margin: 2em 0 1em 0;
}
.cahnrs-paging .wrapper {
	background: rgba( 255, 255, 255, 0.9 );
	border-radius: 1px;
	margin: 0 2em;
	padding: 0.5em 0;
}
.cahnrs-paging .previous {
	display: inline-block;
	width: 30%;
}
.cahnrs-paging .pagination {
	display: inline-block;
	text-align: center;
	width: 40%;
}
.cahnrs-paging .next {
	display: inline-block;
	text-align: right;
	width: 30%;
}
.cahnrs-paging .previous a {
	display: block;
	padding-left: 2em;
}
.cahnrs-paging .next a {
	display: block;
	padding-right: 2em;
}


/**
 * Dynamic Page Load
 * ----------------------------------------------------------------------------
 */
 #cahnrs-global-header {
	 z-index: 270;
	 position: relative;
 }
 
.cahnrs-inview-slide {
	position: absolute;
	width: 100%;
	top: 0;
	left: -9999px;
}

.cahnrs-bg-slide {
	position: fixed;
	width: 100%;
	height: 100%;
	top: 0;
	left: 0;
	background-attachment: fixed;
	background-size: cover;
	z-index: 100;
}

#spine-sitenav {
	position: relative;
	overflow: hidden;
}

#spine-sitenav > ul {
	position: relative;
}

#spine-sitenav > ul.inactive {
	position: absolute;
	left: -9999px;
	top: 0;
	width: 160px;
}
.cahnrs-inview-slide.activeslide {
	position: relative;
	left: 0;
}
.cahnrs-inview-slide .cahnrs-bg-slide{ 
	left: -9999px;
	z-index: 240;
}
.cahnrs-inview-slide.activeslide .cahnrs-bg-slide{ 
	z-index: 230;
}
.cahnrs-inview-slide > article {
	position: relative;
	z-index: 250;
}
 
body.slide-frame #cahnrs-global-header  {
	visibility: hidden;
}
 
.cahnrs-page-slide {
	display: none;
	position: relative;
}
.cahnrs-page-slide.currentslide {
	display: block;
	position: relative;
	z-index: 100;
}
.cahnrs-page-slide.nextslide {
	display: block;
	position: absolute;
	width: 100%;
	top: 0;
	left: 9999px;
}
body.cahnrs-pageslider main {
	display: none;
}
body.cahnrs-pageslider #jacket {
	/*height: 123px;*/
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}
body.cahnrs-pageslider #spine {
	left: -9999px;
}

body.cahnrs-pageslider #spine-navigation {
	visibility: hidden;
}

html {
	height: 100.25%;
}

body.cahnrs-pageslider {
	width: 100%;
	height: 100%;
	border: 0;
	position: absolute;
	top: 0;
	left: 0;
	overflow: hidden;
}
body.cahnrs-pageslider #cahnrs-global-header {
	position: relative;
	z-index: 160;
}

.cahnrs-pageframe {
	width: 100% !important;
	height: 100% !important;
	border: 0;
	position: absolute;
	top: 0;
	left: -9999px;
	overflow: hidden;
	display: block;
	/*background-image: url(http://stage.wpdev.cahnrs.wsu.edu/wp-content/uploads/2014/07/flower.jpg);*/
	background-attachment: fixed;
	background-size: cover;
	z-index: 150;
	border: none;
}
.cahnrs-pageframe.selected {
	display: block;
	left: 0px;
}

.cahnrs-pageframe.next-slide {
	display: block;
}

.cahnrs-promo-view {
padding: 1.5em 0 !important;
}

/*.cahnrs-postload-loader {
	font-size: 1.3em;
	color: #fff;
	font-weight: bold;
	margin-left: 2em;*/
	/*visibility: hidden;*/
	/*display: none;
	height: 100px;
	line-height: 75px;
}*/
/*.cahnrs-postload-loader.active {
	display: block;
}*/
/*.cahnrs-dynamic-window {
	display: none;
	position: relative;
}
.cahnrs-dynamic-window.active {
	display: block;
}
.cahnrs-page-next-slide-state {
	position: absolute;
	display: block;
	width: 100%;
	top: 0;
	z-index: 300;
}
#cahnrs-dynamic-page-load .cahrns-dynamic-page-load-wrapper.inactive {
	display: none;
}*/

/**
 * Print Preview
 * ----------------------------------------------------------------------------
 */
html.print {
	background: none;
}
html.print .layout-builder-wrap {
	margin: 0;
}
html.print #cahnrs-global-header .header-group {
	height: auto;
}
html.print #cahnrs-global-header sub span {
	color: #5e6a71;
	line-height: normal;
}
html.print #cahnrs-global-nav {
	display: none;
}
html.print .article-title {
	color: #5e6a71;
}

/**
 * Media Queries
 * ----------------------------------------------------------------------------
 */

/* Probably need to add :not(.vellum)... PC */
@media screen and (min-width: 791px) and (max-width: 989px) {

	#binder.fluid #spine header {
		background: none;
	}

}

/* Medium and Desktop - Small */
@media only screen and (min-width: 694px) and (max-width: 791px) {

	/* Need to figure out how to not do this for the IOS fix MQ
	.fluid #wsu-signature {
		background-image: url(marks/wsu-cahnrs-signature-horizontal.svg)
	}*/
	#binder.fixed #spine header {
		background: none;
	}

	h1 {
		text-shadow: none;
	}
	.primary-article,
	main > article { 
		margin: 1em 2em;
	}

	/* CAHNRS Global Navigation (for smaller screens) */
	#cahnrs-spine-mobile {
		display: block;
	}
	#spine .spine-sitenav:not(.homeless) > ul > li:first-child {
		display: none;
	}
	#spine .spine-sitenav {
		margin-top: 0;
	}

}

/* Small (max 693)  */
@media only screen and (max-width: 693px) {

	.fluid #wsu-signature {
		background-image: url(marks/wsu-cahnrs-signature-horizontal.svg)
	}

	.primary-article,
	main > article,
	main > section { 
		margin: 0.5em 0;
	}
	main > article > header,
	main > div > article > header,
	main > section > header {
		padding-left: 0.5em;
	}
	.archive article {
		background: #fff;
		margin: 0 0 1em 0;
		padding: 1em;
	}
	h1 {
		text-shadow: none;
	}
	.pagebuilder-item {
		background: #fff;
	}
	
	/* Images/Figures and Captions (slightly overqualified in order to override previous rules and parent theme) */
	.size-lt-large .alignleft,
	.size-lt-large .alignright,
	.size-lt-large .aligncenter {
		clear: both;
		float: none;
		margin: 1em 0 1em 0;
		width: 100%;
	}
	figure img {
		width: 100%;
	}

	/* CAHNRS Global Navigation (for smaller screens) */
	#cahnrs-spine-mobile {
		display: block;
	}
	#spine .spine-sitenav:not(.homeless) > ul > li:first-child {
		display: none;
	}
	#spine .spine-sitenav {
		margin-top: 0;
	}

}

/* IOS fix for unshelved spine */
@media only screen and (max-device-width: 480px) and (orientation: portrait), only screen and (max-device-width: 480px) and (orientation: landscape), only screen and (device-width: 768px) and (device-height: 1024px) and (orientation: portrait), only screen and (device-width: 768px) and (device-height: 1024px) and (orientation: landscape) {

	#spine nav#cahnrs-spine-mobile li.parent:not(.active) > a::after,
	#spine nav#cahnrs-spine-mobile li.parent.opened:not(.active) > a::after {
		top: 0.5em;
	}
	#spine:not(.unshelved) #cahnrs-spine-mobile ul li.opened ul { 
		display: block;
	}
	h1 {
		text-shadow: none;
	}
	.archive article {
		margin: 0 2em 1em 2em;
		padding: 1em;
	}

}

/* CAHNRS Global Navigation (for smaller screens) */
@media only screen and (max-width: 540px) {
	
	#cahnrs-spine-mobile ul li ul {
		left: auto;
		position: fixed;
		right: 0;
		top: auto;
		width: 242px;
		z-index: 1;
	}
	
}
